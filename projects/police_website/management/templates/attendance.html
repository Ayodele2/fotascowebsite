{%extends 'main.html'%} {%load static%} {% block main%}

<div class="container">
  <div id="formSection">
    <h2>Mark Attendance</h2>
    <button id="addStudentButton" onclick="showAddStudentForm()">
      Add employees
    </button>
    <button id="addClassButton" onclick="showAddClassForm()">
      Add Department
    </button>

    <label for="classSelector">Class:</label>
    <select id="classSelector" required onchange="showStudentsList()">
      <!-- Populate classes dynamically -->
    </select>

    <ul id="studentsList">
      <!-- Populate students dynamically 
                    based on the selected class -->
    </ul>

    <div id="summarySection">
      <h3>Summary</h3>
      <p>
        Total employees:
        <span id="totalStudents">0</span>
      </p>
      <p>
        Total Present:
        <span id="totalPresent">0</span>
      </p>
      <p>
        Total Absent:
        <span id="totalAbsent">0</span>
      </p>
      <p>
        Total Leave:
        <span id="totalLeave">0</span>
      </p>
    </div>

    <button onclick="submitAttendance()">Submit Attendance</button>

    <!-- Result Section -->
    <div id="resultSection" style="display: none">
      <h3>Attendance Result</h3>
      <p>
        Date:
        <span id="attendanceDate"></span>
      </p>
      <p>
        Time:
        <span id="attendanceTime"></span>
      </p>
      <p>
        Department:
        <span id="attendanceClass"></span>
      </p>
      <p>
        Total employees:
        <span id="attendanceTotalStudents"></span>
      </p>
      <p>
        Present:
        <span id="attendancePresent"></span>
      </p>
      <p>
        Absent:
        <span id="attendanceAbsent"></span>
      </p>
      <p>
        Leave:
        <span id="attendanceLeave"></span>
      </p>
    </div>
  </div>
</div>

<div id="addStudentPopup" class="popup">
  <h2>Add employees</h2>
  <!-- Add Student Form Content -->
  <label for="newStudentName"> employees Name: </label>
  <input type="text" id="newStudentName" required />
  <label for="newStudentRoll"> Roll Number: </label>
  <input type="text" id="newStudentRoll" required />
  <!-- Add more fields as needed -->

  <button onclick="addStudent()">submit</button>
  <button onclick="closePopup()">Cancel</button>
</div>

<div id="addClassPopup" class="popup">
  <h2>Add Department</h2>
  <!-- Add Class Form Content -->
  <label for="newClassName"> Department Name: </label>
  <input type="text" id="newClassName" required />
  <!-- Add more fields as needed -->

  <button onclick="addClass()">Submit</button>
  <button onclick="closePopup()">Cancel</button>
</div>

<script src="{% static 'js/attendance.js' %}"></script>
{%endblock main%}
